<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Phishing Email Awareness</title>
    <style>
        /* Your existing styles */
        body {
            margin: 0;
            padding: 0;
            font-family: Arial, sans-serif;
            overflow: hidden;
        }
        .background-thunder {
            position: absolute;
            width: 100%;
            height: 100%;
            background: url('sky-clouds.gif') center/cover no-repeat;
            z-index: -1;
            margin-top: 0%;
            animation: thunder-fade 15s forwards;
        }
        .background-rain {
            position: fixed;
            width: 100%;
            height: 100%;
            background: url('rain-8252.gif') center/cover no-repeat;
            z-index: -1;
            display: none;
        }
        .thudd-message {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%) scale(0);
            font-size: 5rem;
            color: white;
            font-weight: bold;
            text-shadow: 2px 2px 10px red, 0 0 30px red, 0 0 50px yellow;
            z-index: 1;
            opacity: 0;
            animation: thudd-zoom 1s 3s forwards, thudd-fade-out 0.5s 5s forwards;
        }
        @keyframes thudd-zoom {
            0% { transform: translate(-50%, -50%) scale(0); opacity: 0; }
            50% { transform: translate(-50%, -50%) scale(1.2); opacity: 1; }
            100% { transform: translate(-50%, -50%) scale(1); opacity: 1; }
        }
        @keyframes thudd-fade-out {
            0% { opacity: 1; }
            100% { opacity: 0; }
        }
        .content {
            position: absolute;
            color: antiquewhite;
            right: 25%;
            left: 25%;
            text-align: center;
            padding: 30px;
            font-size: 1rem;
            margin-top: 10%;
            opacity: 0;
            z-index: 1;
            animation: fade-in 1s 6s forwards;
        }
        @keyframes fade-in {
            0% { opacity: 0; transform: translateY(20px); }
            100% { opacity: 1; transform: translateY(0); }
        }
        .alert {
            background: rgba(49, 46, 46, 0.8);
            margin: 10px auto;
            padding: 20px;
            max-width: 500px;
            border-radius: 10px;
            box-shadow: 0 0 10px rgb(255, 0, 0);
        }
        .alert-icon {
            display: inline-block;
            margin-right: 10px;
            font-size: 1.5rem;
        }
    </style>
</head>
<body>
    <div class="background-thunder"></div>
    <div class="background-rain"></div>
    <div class="thudd-message" font="Arial">⚡THUD!! THIS IS A PHISHING EMAIL!</div>
    <div class="content">
        <div class="alert">
            <span class="alert-icon">⚠️</span>
            Do not click on links within emails asking for personal information.
        </div>
        <div class="alert">
            <span class="alert-icon">⚠️</span>
            Verify the sender’s email address carefully.
        </div>
        <div class="alert">
            <span class="alert-icon">⚠️</span>
            Verify any unexpected job-related requests by contacting the employee directly.
        </div>
        <div class="alert">
            <span class="alert-icon">⚠️</span>
            Do not share sensitive information via email.
        </div>
    </div>

    <script>
        // Notify backend when the page is loaded
        const userEmail = new URLSearchParams(window.location.search).get('email'); // Retrieve email from URL
        if (userEmail) {
            fetch('http://127.0.0.1:5000/track-click', {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json',
                },
                body: JSON.stringify({ email: userEmail })
            });
        }

        // Switch to rain background
        setTimeout(() => {
            document.querySelector('.background-thunder').style.display = 'none';
            document.querySelector('.background-rain').style.display = 'block';
        }, 2000);

        // Remove THUDD message after display duration
        setTimeout(() => {
            document.querySelector('.thudd-message').style.display = 'none';
        }, 4000);
    </script>
</body>
</html>
